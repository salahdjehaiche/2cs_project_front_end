(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02a2d274"],{2532:function(e,t,r){"use strict";var o=r("23e7"),l=r("5a34"),n=r("1d80"),i=r("ab13");o({target:"String",proto:!0,forced:!i("includes")},{includes:function(e){return!!~String(n(this)).indexOf(l(e),arguments.length>1?arguments[1]:void 0)}})},"29d4":function(e,t,r){"use strict";r.r(t);var o=r("7a23"),l=Object(o["h"])(" Consulter Publication "),n=Object(o["i"])("span",{class:"text-grey-dark text-center font-bold"},"> ",-1),i={class:"bg-white"},a={class:"max-w-8xl mx-auto sm:px-6 lg:px-4"},c={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},u={class:"w-2/2 bg-white p-4  md:w-full card"},s={class:"text-left px-2 py-4 text-lg md:flex md:items-center"},b=Object(o["i"])("span",{class:"text-grey-800  mr-3 md:w-1/4 "},"Intitulé de publication",-1),d={class:"text-left px-2 py-4 text-lg md:flex md:items-center"},p=Object(o["i"])("p",{class:"text-grey-800  mr-3 md:w-1/4"},"Type",-1),m=Object(o["i"])("option",{value:"MEMBRE_DPGR"},"Communication national",-1),h=Object(o["i"])("option",{value:"MEMBRE_CS"},"Communication international",-1),x=Object(o["i"])("option",{value:"MEMBRE_LMCS"},"Publication international",-1),f={class:"text-left px-2 py-4 text-lg md:flex md:items-center"},j=Object(o["i"])("p",{class:"text-grey-800  mr-3 md:w-1/4"},"Collaborateurs",-1),g=Object(o["i"])("svg",{class:"h-6 w-6 fill-current ",viewBox:"0 0 20 20"},[Object(o["i"])("path",{d:"M10,1.6c-4.639,0-8.4,3.761-8.4,8.4c0,4.639,3.761,8.4,8.4,8.4s8.4-3.761,8.4-8.4C18.4,5.361,14.639,1.6,10,1.6z M15,11h-4 v4H9v-4H5V9h4V5h2v4h4V11z"})],-1),O={class:"text-left px-2 py-4 text-lg md:flex md:items-center"},v=Object(o["i"])("p",{class:"text-grey-800  mr-3 md:w-1/4"},"Autre collaborateurs",-1),y=Object(o["i"])("svg",{class:"h-6 w-6 fill-current",viewBox:"0 0 20 20"},[Object(o["i"])("path",{d:"M10,1.6c-4.639,0-8.4,3.761-8.4,8.4c0,4.639,3.761,8.4,8.4,8.4s8.4-3.761,8.4-8.4C18.4,5.361,14.639,1.6,10,1.6z M15,11h-4 v4H9v-4H5V9h4V5h2v4h4V11z"})],-1),C=Object(o["i"])("div",{class:"text-left px-2 py-4 text-lg md:flex md:items-center"},[Object(o["i"])("p",{class:"text-grey-800  mr-3 md:w-1/4"},"Détails")],-1),w={class:"text-left px-2 py-4 text-lg md:flex md:items-center"},k=Object(o["i"])("div",{class:"text-center px-2 py-4 text-lg text-center"},[Object(o["i"])("button",{class:"focus:outline-none focus:bg-blue-700 py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white  my-2 bg-blue-500 hover:bg-blue-600 \r\n                            focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:outline-none focus:ring-opacity-50"},[Object(o["i"])("div",{class:"flex items-center"},[Object(o["i"])("svg",{class:"h-6 w-6 fill-current mr-2",viewBox:"0 0 20 20"},[Object(o["i"])("path",{d:"M10,1.6c-4.639,0-8.4,3.761-8.4,8.4c0,4.639,3.761,8.4,8.4,8.4s8.4-3.761,8.4-8.4C18.4,5.361,14.639,1.6,10,1.6z M15,11h-4 v4H9v-4H5V9h4V5h2v4h4V11z"})]),Object(o["i"])("h3",null," Ajouter publication")])])],-1);function M(e,t,r,M,V,z){var E=Object(o["x"])("router-link"),B=Object(o["x"])("MainHeader"),H=Object(o["x"])("WelcomeLayout");return Object(o["r"])(),Object(o["e"])(H,null,{default:Object(o["F"])((function(){return[Object(o["i"])(B,{titre:"Ajouter publication"},{default:Object(o["F"])((function(){return[Object(o["i"])(E,{to:{path:"/Consulterpublications"},class:"text-blue-500 hover:text-blue-800 hover:font-bold"},{default:Object(o["F"])((function(){return[l]})),_:1}),n]})),_:1}),Object(o["i"])("main",i,[Object(o["i"])("div",a,[Object(o["i"])("div",c,[Object(o["i"])("div",u,[Object(o["i"])("form",{onSubmit:t[8]||(t[8]=Object(o["H"])((function(){return z.postPublication&&z.postPublication.apply(z,arguments)}),["prevent"]))},[Object(o["i"])("div",s,[b,Object(o["G"])(Object(o["i"])("input",{type:"text",required:"","onUpdate:modelValue":t[1]||(t[1]=function(e){return V.intitule=e}),class:"mt-1 border border-gray-300 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm rounded-md",placeholder:"Nom"},null,512),[[o["C"],V.intitule]])]),Object(o["i"])("div",d,[p,Object(o["G"])(Object(o["i"])("select",{name:"role",id:"role",required:"","onUpdate:modelValue":t[2]||(t[2]=function(e){return V.type=e}),class:"mt-1 border border-gray-300 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm rounded-md"},[m,h,x],512),[[o["B"],V.type]])]),Object(o["i"])("div",f,[j,Object(o["G"])(Object(o["i"])("select",{name:"role",id:"role",required:"","onUpdate:modelValue":t[3]||(t[3]=function(e){return V.collaborateur=e}),class:"mt-1 border border-gray-300 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm rounded-md"},[(Object(o["r"])(!0),Object(o["e"])(o["a"],null,Object(o["v"])(V.chercheurs,(function(e){return Object(o["r"])(),Object(o["e"])("option",{key:e},Object(o["z"])(e.nom)+" "+Object(o["z"])(e.prenom),1)})),128))],512),[[o["B"],V.collaborateur]]),Object(o["i"])("button",{onClick:t[4]||(t[4]=function(){return z.ajoutercollaborateur&&z.ajoutercollaborateur.apply(z,arguments)}),type:"button",class:"p-1 rounded-md text-white m-2 bg-blue-500 hover:bg-blue-600 focus:outline-none focus:bg-blue-700  "},[g])]),(Object(o["r"])(!0),Object(o["e"])(o["a"],null,Object(o["v"])(V.listCollaborateurs,(function(e){return Object(o["r"])(),Object(o["e"])("div",{key:e,class:"inline-block text-left"},[Object(o["i"])("span",{onClick:function(t){return z.removecollabe(e)},class:"text-grey-800 border rounded bg-gray-200 mr-3 hover:bg-gray-400   px-2 py-1"},Object(o["z"])(e),9,["onClick"])])})),128)),Object(o["i"])("div",O,[v,Object(o["G"])(Object(o["i"])("input",{type:"text",required:"","onUpdate:modelValue":t[5]||(t[5]=function(e){return V.externeCollaborateur=e}),class:"mt-1 border border-gray-300 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm rounded-md",placeholder:"Autre collaborateurs"},null,512),[[o["C"],V.externeCollaborateur]]),Object(o["i"])("button",{onClick:t[6]||(t[6]=function(){return z.ajouterExternCollaborateur&&z.ajouterExternCollaborateur.apply(z,arguments)}),type:"button",class:"p-1 rounded text-white  m-2 bg-blue-500 hover:bg-blue-600 focus:outline-none focus:bg-blue-700  "},[y])]),(Object(o["r"])(!0),Object(o["e"])(o["a"],null,Object(o["v"])(V.listexterneCollaborateurs,(function(e){return Object(o["r"])(),Object(o["e"])("div",{key:e,class:"inline-block text-left"},[Object(o["i"])("span",{onClick:function(t){return z.removeExterneCollabe(e)},class:"text-grey-800 border rounded bg-gray-200 mr-3 hover:bg-gray-400   px-2 py-1"},Object(o["z"])(e),9,["onClick"])])})),128)),C,Object(o["i"])("div",w,[Object(o["G"])(Object(o["i"])("textarea",{"onUpdate:modelValue":t[7]||(t[7]=function(e){return V.detail=e}),maxlength:"300",name:"detail",id:"detail",rows:"10",cols:"80",class:"mt-1 w-3/4 px-2 border border-gray-300 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm rounded-md",placeholder:"Détail",required:""},null,512),[[o["C"],V.detail]])]),k],32)])])])])]})),_:1})}r("caad"),r("2532");var V=r("5061"),z=r("3ff6"),E=r("4360"),B=r("bc3a"),H=r.n(B),A={components:{WelcomeLayout:z["a"],MainHeader:V["a"]},data:function(){return{intitule:"",type:"",user:"",detail:"",collaborateur:"",listCollaborateurs:[],listexterneCollaborateurs:[],externeCollaborateur:"",chercheurs:[{nom:"oussama",prenom:"kherroubi"},{nom:"salah",prenom:"kherroubi"},{nom:"rafik",prenom:"kherroubi"},{nom:"zinou",prenom:"kherroubi"},{nom:"Ahmed",prenom:"kherroubi"}]}},methods:{ajoutercollaborateur:function(){""==this.collaborateur||this.listCollaborateurs.includes(this.collaborateur)||this.listCollaborateurs.push(this.collaborateur)},removecollabe:function(e){this.listCollaborateurs.pop(e)},ajouterExternCollaborateur:function(){""==this.externeCollaborateur||this.listexterneCollaborateurs.includes(this.externeCollaborateur)||this.listexterneCollaborateurs.push(this.externeCollaborateur)},removeExterneCollabe:function(e){this.listexterneCollaborateurs.pop(e)},postPublication:function(){var e=this,t="",r="";for(var o in console.log(this.listCollaborateurs),this.listCollaborateurs)t+=this.listCollaborateurs[o]+",";for(var l in this.listexterneCollaborateurs)r+=this.listexterneCollaborateurs[l]+",";var n={name:this.intitule,type:this.type,details:this.detail,collaborateur:t,other_collaborateur:r},i=localStorage.getItem("token");H()({method:"post",url:"https://django-app-dpgr.herokuapp.com/v1/api/publications/",headers:{"Content-Type":"application/json",Authorization:"Bearer "+i},data:n}).then((function(t){200==t.status&&(alert("le pubplication est ajouté avec succées "),e.$router.push({path:"/Consulterpublications"}))})).catch((function(e){return console.log(e)}))}},mounted:function(){this.user=E["a"].state.login.user,console.log(E["a"].state.login.user.result)}};A.render=M;t["default"]=A},"44e7":function(e,t,r){var o=r("861d"),l=r("c6b6"),n=r("b622"),i=n("match");e.exports=function(e){var t;return o(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==l(e))}},5061:function(e,t,r){"use strict";var o=r("7a23"),l={class:"bg-blue-100 shadow"},n={class:"max-w-7xl mx-auto py-4 px-4 sm:px-6 lg:px-8 text-left"},i={class:"text-2xl font-bold leading-tight text-gray-900"};function a(e,t,r,a,c,u){return Object(o["r"])(),Object(o["e"])("header",l,[Object(o["i"])("div",n,[Object(o["i"])("h1",i,[Object(o["w"])(e.$slots,"default"),Object(o["h"])(" "+Object(o["z"])(r.titre),1)])])])}var c={props:["titre"]};c.render=a;t["a"]=c},"5a34":function(e,t,r){var o=r("44e7");e.exports=function(e){if(o(e))throw TypeError("The method doesn't accept regular expressions");return e}},ab13:function(e,t,r){var o=r("b622"),l=o("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[l]=!1,"/./"[e](t)}catch(o){}}return!1}},caad:function(e,t,r){"use strict";var o=r("23e7"),l=r("4d64").includes,n=r("44d2");o({target:"Array",proto:!0},{includes:function(e){return l(this,e,arguments.length>1?arguments[1]:void 0)}}),n("includes")}}]);
//# sourceMappingURL=chunk-02a2d274.a414f5d8.js.map